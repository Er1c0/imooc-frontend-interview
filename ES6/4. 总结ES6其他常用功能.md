# 1. ES6 其他常用功能

## 1.1. let/const

```JavaScript
// JS
var i = 10;
i = 100;
var j = 20;
j = 200;

// ES6
let i = 10;
i = 100;    // 正确
const j = 20;
j = 200;    // 报错
```

## 1.2. 多行字符串/模板变量

```JavaScript
// JS
var name = 'zhangsan', age = 20, html = '';
html += '<div>';
html += ' <p>' + name + '</p>';
html += ' <p>' + age + '</p>';
html += '</div>';

// ES6
const name = 'zhangsan', age = 20;
const html = `<div>
              <p>${name}</p>
              <p>${age}</p>
              </div>`;
console.log(html);
```

## 1.3. 解构赋值

```JavaScript
// JS
var obj = {a: 100, b: 200}
var a = obj.a
var b = obj.b

var arr = ['xxx', 'yyy', 'zzz']
var x = arr[0]

//ES6
const obj = {a: 10, b: 20, c: 30}
const {a, c} = obj
console.log(a)
console.log(c)

const arr = ['xxx', 'yyy', 'zzz']
const [x, y, z] = arr
console.log(x)
console.log(y)
console.log(z)
```

## 1.4. 块级作用域

```JavaScript
// JS
var obj = {a: 100, b:200}
for (var item in obj) {
    console.log(item)
}
console.log(item) // 'b'

// ES6
const obj = {a:100, b:200}
for (let item in obj) {
    console.log(item)
}
console.log(item) // undefined
```

## 1.5. 函数默认参数

```JavaScript
// JS
function (a, b) {
    if (b == null) {
        b = 0
    }
}

// ES6
function (a, b=0) {

}
```

## 1.6. 箭头函数(this)

```JavaScript
// JS
var arr = [1, 2, 3]
arr.map(function (item) {
    return item + 1
})

// ES6
const arr = [1, 2, 3]
arr.map(item => item + 1);
arr.map((item, index) => {
    console.log(index)
    return item + 1
})
```

```JavaScript
function fn() {
  console.log('real', this)
  var arr = [1, 2, 3]

  // JS
  arr.map(function (item) {
    console.log('js', this)
    return item + 1
  })

  // ES6
  arr.map(item => {
    console.log('es6', this)
    return item + 1
  })
}
fn.call({a: 100})
```
